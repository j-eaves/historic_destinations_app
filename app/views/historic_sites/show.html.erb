<!-- https://stackoverflow.com/questions/35610873/google-maps-with-responsive-sidebar -->
	

	<!-- &callback=initialize was previously &callback=initMap but didn't work -->
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAti92VRg88Ky1xV1XAaqh9fi7r9amnKqE&callback=initialize" async defer></script>

	<!-- <script src="http://maps.googleapis.com/maps/api/js?v=3&sensor=false&callback=initialize"></script> -->

	<!-- &callback=initialize was previously &callback=initMap but didn't work -->
	<!-- <script src="https://maps.googleapis.com/maps/api/js"></script> -->
	


	<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> -->
	
	<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script> -->
	<!-- <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" /> -->
	
	<div id="wrapper">
	  <!-- Sidebar -->
	  <div id="sidebar-wrapper">
	    <ul class="sidebar-nav" id="side_bar">
	      <li class="sidebar-brand" style="font-weight: bold; color: #999999;">
	        <h1>Places</h1>
	      </li>
	      <hr>
	    </ul>
	  </div>
	  <!-- /#sidebar-wrapper -->
	  <!-- Page Content -->
	  <div id="page-content-wrapper">
	    <div class="container-fluid">
	      <div class="row">
	        <div class="col-lg-12">
	          <h1>
		    <a href="#menu-toggle" class="gradient-menu" id="menu-toggle"></a>
	          &nbsp;Map&nbsp;<!-- a href="#menu-toggle" class="btn btn-default" >Toggle Sidebar</a -->
	          </h1>
	          <!-- you can use tables or divs for the overall layout -->
	          <div id="map_canvas"></div>
	          <h1>Simple Sidebar</h1>
	        </div>
	      </div>
	    </div>
	  </div>
	  <!-- /#page-content-wrapper -->
	</div>
	<!-- /#wrapper -->

	<div id="app">
	  <!-- {{ sites }}
		<div v-for="site in sites">
		  	<p> Name of historic site: {{ site.name }} </p>
		  	<hr>
		</div> -->
	</div>

	<div id="map_canvas"></div>

	<script>
		//the google.maps.event.addDomListener must be at top, here...
		//google.maps.event.addDomListener(window, 'load', initialize);
		// arrays to hold copies of the markers and html used by the side_bar 
		// because the function closure trick doesnt work there 
		var gmarkers = [];
		var map = null;

		function initialize() {
		  var myWrapper = $("#wrapper");
		  $("#menu-toggle").click(function(e) {
		    e.preventDefault();
		    $("#wrapper").toggleClass("toggled");
		    myWrapper.one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(e) {
		      // code to execute after transition ends
		      google.maps.event.trigger(map, 'resize');
		    });
		  });
		  // create the map
		  var myOptions = {
		    zoom: 8,
		    center: new google.maps.LatLng(43.907787, -79.359741),
		    mapTypeControl: true,
		    mapTypeControlOptions: {
		      style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
		    },
		    navigationControl: true,
		    mapTypeId: google.maps.MapTypeId.ROADMAP
		  }
		  map = new google.maps.Map(document.getElementById("map_canvas"),
		    myOptions);

		  google.maps.event.addListener(map, 'click', function() {
		    infowindow.close();
		  });


		  // Add markers to the map
		  // Set up three markers with info windows 
		  // add the points    
		  var point = new google.maps.LatLng(43.65654, -79.90138);
		  var marker = createMarker(point, "This place", "Some stuff to display in the<br>First Info Window")

		  var point = new google.maps.LatLng(43.91892, -78.89231);
		  var marker = createMarker(point, "That place", "Some stuff to display in the<br>Second Info Window")

		  var point = new google.maps.LatLng(43.82589, -78.89231);
		  var marker = createMarker(point, "The other place", "Some stuff to display in the<br>Third Info Window")

		//}
		

		var infowindow = new google.maps.InfoWindow({
		  size: new google.maps.Size(150, 50)
		});

		// This function picks up the click and opens the corresponding info window
		function myclick(i) {
		  google.maps.event.trigger(gmarkers[i], "click");
		}

		// A function to create the marker and set up the event window function 
		function createMarker(latlng, name, html) {
		  var contentString = html;
		  var marker = new google.maps.Marker({
		    position: latlng,
		    map: map,
		    zIndex: Math.round(latlng.lat() * -100000) << 5
		  });

		  google.maps.event.addListener(marker, 'click', function() {
		    infowindow.setContent(contentString);
		    infowindow.open(map, marker);
		  });
		  // save the info we need to use later for the side_bar
		  gmarkers.push(marker);
		  // add a line to the side_bar html
		  var sidebar = $('#side_bar');
		  var sidebar_entry = $('<li/>', {
		    'html': name,
		    'click': function() {
		      google.maps.event.trigger(marker, 'click');
		    },
		    'mouseenter': function() {
		      $(this).css('color', 'red');
		    },
		    'mouseleave': function() {
		      $(this).css('color', '#999999');
		    }
		  }).appendTo(sidebar);
		}
		}

		 google.maps.event.addDomListener(window, 'load', initialize);
	</script>






